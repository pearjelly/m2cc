# M2CC Docker 测试环境配置文件
# 用于配置测试参数和行为

# ===== 测试模式配置 =====
# 可选值: basic, full, stress, all
TEST_MODE=basic

# ===== 压力测试配置 =====
# 压力测试的迭代次数
TEST_ITERATIONS=3

# ===== 网络测试配置 =====
# 是否跳过网络测试 (true/false)
SKIP_NETWORK_TESTS=false

# ===== Docker 配置 =====
# Docker 镜像名称和标签
DOCKER_IMAGE=m2cc-test
DOCKER_TAG=latest

# ===== 清理配置 =====
# 是否在清理时保留镜像
KEEP_IMAGES=false

# 是否清理测试数据和日志
CLEANUP_DATA=true
CLEANUP_LOGS=true

# ===== 报告配置 =====
# 是否启用详细日志
VERBOSE_LOGGING=true

# 是否生成 JSON 格式报告
GENERATE_JSON_REPORT=true

# 是否生成人类可读报告
GENERATE_TEXT_REPORT=true

# ===== 测试超时配置 =====
# 语法检查超时时间 (秒)
SYNTAX_CHECK_TIMEOUT=30

# 函数检查超时时间 (秒)
FUNCTION_CHECK_TIMEOUT=30

# 依赖检查超时时间 (秒)
DEPENDENCY_CHECK_TIMEOUT=60

# 安装测试超时时间 (秒)
INSTALL_TEST_TIMEOUT=300

# 完整测试超时时间 (秒)
FULL_TEST_TIMEOUT=1800

# ===== 网络测试配置 =====
# 网络连接测试的超时时间 (秒)
NETWORK_TEST_TIMEOUT=10

# 网络测试的 URL 列表 (逗号分隔)
NETWORK_TEST_URLS="https://raw.githubusercontent.com,https://www.npmjs.com,https://api.minimaxi.com,https://platform.deepseek.com"

# ===== 错误模拟配置 =====
# 是否启用错误模拟测试
ENABLE_ERROR_SIMULATION=false

# 模拟的网络中断次数
SIMULATED_NETWORK_FAILURES=2

# 模拟的权限错误次数
SIMULATED_PERMISSION_ERRORS=1

# ===== 环境隔离配置 =====
# 是否在隔离环境中运行测试
ISOLATED_TEST_ENVIRONMENT=true

# 是否备份现有配置
BACKUP_EXISTING_CONFIG=true

# ===== 性能监控配置 =====
# 是否启用性能监控
ENABLE_PERFORMANCE_MONITORING=true

# 监控间隔 (秒)
MONITORING_INTERVAL=5

# ===== 日志配置 =====
# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 是否将日志同时输出到文件
LOG_TO_FILE=true

# 日志文件最大大小 (MB)
LOG_FILE_MAX_SIZE=10

# 是否启用日志轮转
LOG_ROTATION=true

# ===== 报告配置 =====
# 报告输出目录
OUTPUT_DIR=/workspace/test-output

# 日志输出目录
LOG_DIR=/workspace/test-logs

# 临时文件目录
TEMP_DIR=/tmp/m2cc-test

# ===== 测试数据配置 =====
# 测试用的模拟 API Key (不会真实使用)
TEST_MINIMAX_API_KEY=test-key-minimax-12345
TEST_DEEPSEEK_API_KEY=test-key-deepseek-12345
TEST_GLM_API_KEY=test-key-glm-12345

# 是否使用模拟的 API Key 进行测试
USE_MOCK_API_KEYS=true

# ===== CI/CD 配置 =====
# 是否在 CI 环境中运行
CI_ENVIRONMENT=false

# 是否启用严格模式 (失败时立即退出)
STRICT_MODE=false

# 失败时重试次数
RETRY_COUNT=2

# ===== 兼容性配置 =====
# 支持的操作系统列表 (逗号分隔)
SUPPORTED_OS="ubuntu22.04,ubuntu20.04,debian11,debian12"

# 最低支持的 bash 版本
MIN_BASH_VERSION=4.0

# 是否检查系统资源
CHECK_SYSTEM_RESOURCES=true

# 最低内存要求 (MB)
MIN_MEMORY_MB=512

# 最低磁盘空间要求 (MB)
MIN_DISK_SPACE_MB=1024

# ===== 高级配置 =====
# 是否启用调试模式
DEBUG_MODE=false

# 是否记录性能指标
RECORD_PERFORMANCE_METRICS=true

# 是否保存测试快照
SAVE_TEST_SNAPSHOTS=false

# 测试快照保存路径
SNAPSHOT_DIR=/workspace/test-snapshots

# ===== 开发者配置 =====
# 是否启用开发者模式
DEVELOPER_MODE=false

# 是否跳过某些检查以加快测试速度
SKIP_SAFETY_CHECKS=false

# 是否在测试后保持容器运行
KEEP_CONTAINER_RUNNING=false