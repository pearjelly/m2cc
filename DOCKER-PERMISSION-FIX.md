# M2CC Docker æƒé™é—®é¢˜ä¿®å¤å®Œæˆ âœ…

## ğŸ” é—®é¢˜è¯Šæ–­

### åŸå§‹é”™è¯¯
```
chmod: changing permissions of '/workspace/test-scripts/automated-test.sh': Read-only file system
chmod: changing permissions of '/workspace/test-scripts/interactive-test.sh': Read-only file system
```

### æ ¹æœ¬åŸå› 
1. **åªè¯»æŒ‚è½½å†²çª**: ä½¿ç”¨ `:ro` æŒ‚è½½åªè¯»è„šæœ¬ç›®å½•
2. **è¿è¡Œæ—¶æƒé™ä¿®æ”¹**: å®¹å™¨å¯åŠ¨æ—¶å°è¯•æ‰§è¡Œ `chmod +x`
3. **æ–‡ä»¶ç³»ç»Ÿä¿æŠ¤**: åªè¯»æ–‡ä»¶ç³»ç»Ÿä¸å…è®¸ä¿®æ”¹æƒé™

## ğŸ›  ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ: é•œåƒæ„å»ºæ—¶é¢„ç½®æƒé™
åœ¨ Dockerfile ä¸­å¤åˆ¶è„šæœ¬å¹¶è®¾ç½®æƒé™ï¼Œè¿è¡Œæ—¶æ— éœ€ä¿®æ”¹ã€‚

#### Dockerfile ä¿®æ”¹
```dockerfile
# åˆ›å»ºè„šæœ¬ç›®å½•ç»“æ„å¹¶å¤åˆ¶è„šæœ¬
RUN mkdir -p /workspace/test-scripts /workspace/config && \
    chown -R testuser:testuser /workspace

# å¤åˆ¶æµ‹è¯•è„šæœ¬å’Œé…ç½®æ–‡ä»¶
COPY docker/test-scripts/ /workspace/test-scripts/
COPY docker/config/ /workspace/config/

# è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™
RUN chmod +x /workspace/test-scripts/*.sh && \
    chown -R testuser:testuser /workspace
```

#### docker run ä¿®æ”¹
```bash
# ä¿®å¤å‰ (æœ‰æƒé™é—®é¢˜)
docker run ... \
    -v ".../docker/test-scripts:/workspace/test-scripts:ro" \
    -v ".../docker/config:/workspace/config:ro" \
    /bin/bash -c 'chmod +x /workspace/test-scripts/*.sh && ...'

# ä¿®å¤å (æƒé™æ­£ç¡®)
docker run ... \
    # ç§»é™¤è„šæœ¬æŒ‚è½½ (è„šæœ¬å·²åœ¨é•œåƒä¸­) \
    /workspace/test-scripts/interactive-test.sh
```

## âœ… ä¿®å¤æ•ˆæœ

### æƒé™æµç¨‹å¯¹æ¯”

**ä¿®å¤å‰ (å¤±è´¥)**:
1. Dockerfile ä¸å¤åˆ¶è„šæœ¬
2. è¿è¡Œæ—¶æŒ‚è½½åªè¯»è„šæœ¬
3. å°è¯• chmod +x (å¤±è´¥: åªè¯»æ–‡ä»¶ç³»ç»Ÿ)

**ä¿®å¤å (æˆåŠŸ)**:
1. Dockerfile å¤åˆ¶è„šæœ¬å¹¶è®¾ç½®æƒé™
2. è¿è¡Œæ—¶ç›´æ¥ä½¿ç”¨é¢„ç½®è„šæœ¬
3. æ— éœ€ä¿®æ”¹æƒé™ (æƒé™å·²æ­£ç¡®è®¾ç½®)

### æŠ€æœ¯ä¼˜åŠ¿
- **å®‰å…¨æ€§**: è„šæœ¬ä¸å¯å˜ï¼Œé•œåƒå†…é¢„ç½®
- **æ€§èƒ½**: å¯åŠ¨æ—¶æ— éœ€æƒé™æ“ä½œ
- **ç®€æ´æ€§**: å‡å°‘æŒ‚è½½ç‚¹
- **å¯é æ€§**: é¿å…è¿è¡Œæ—¶æƒé™é”™è¯¯

## ğŸš€ ä½¿ç”¨æŒ‡å—

### ç°åœ¨å¯ä»¥æ­£å¸¸è¿è¡Œ:
```bash
# 1. æ¸…ç†æ—§é•œåƒ
docker rmi m2cc-test:latest

# 2. å¯åŠ¨äº¤äº’å¼æµ‹è¯• (æ— æƒé™é—®é¢˜)
./docker-test.sh

# 3. è‡ªåŠ¨åŒ–æµ‹è¯•
./docker-test.sh --automated basic
```

### æ„å»ºæµç¨‹
```bash
# é•œåƒæ„å»ºä¼šè‡ªåŠ¨:
# 1. å¤åˆ¶è„šæœ¬åˆ°é•œåƒå†…éƒ¨
# 2. è®¾ç½®é€‚å½“çš„æ‰§è¡Œæƒé™
# 3. é…ç½®æ‰€æœ‰è€…æƒé™
# 4. æ— éœ€è¿è¡Œæ—¶æƒé™ä¿®æ”¹
```

## ğŸ¯ æµ‹è¯•éªŒè¯

### æƒé™æ£€æŸ¥
```bash
# è„šæœ¬åœ¨é•œåƒä¸­çš„æƒé™
/workspace/test-scripts/interactive-test.sh: -rwxr-xr-x
/workspace/test-scripts/automated-test.sh: -rwxr-xr-x
```

### å¯åŠ¨æµ‹è¯•
```bash
# æ— æƒé™é”™è¯¯å¯åŠ¨
$ ./docker-test.sh
âœ“ Docker ç¯å¢ƒæ£€æŸ¥é€šè¿‡
âœ“ é•œåƒæ„å»ºæˆåŠŸ: m2cc-test:latest
âœ“ å®¹å™¨å¯åŠ¨æˆåŠŸ (æ— æƒé™é”™è¯¯)
```

## ğŸ“Š ä¿®å¤æ€»ç»“

| é—®é¢˜ | çŠ¶æ€ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Dockerfile è·¯å¾„é”™è¯¯ | âœ… å·²ä¿®å¤ | è·¯å¾„è®¡ç®—ä¿®æ­£ |
| å®¹å™¨æŒ‚è½½å†²çª | âœ… å·²ä¿®å¤ | ç§»é™¤æŒ‚è½½ï¼Œæ”¹ä¸ºå†…ç½® |
| æƒé™åªè¯»é—®é¢˜ | âœ… å·²ä¿®å¤ | æ„å»ºæ—¶é¢„ç½®æƒé™ |
| è„šæœ¬æ‰§è¡Œå¤±è´¥ | âœ… å·²ä¿®å¤ | æƒé™é¢„è®¾åœ¨é•œåƒä¸­ |

## ğŸ‰ ä¿®å¤å®Œæˆ

**é—®é¢˜çŠ¶æ€**: âœ… å®Œå…¨è§£å†³  
**é•œåƒæ„å»º**: âœ… æ­£å¸¸  
**å®¹å™¨å¯åŠ¨**: âœ… æ— æƒé™é”™è¯¯  
**è„šæœ¬æ‰§è¡Œ**: âœ… æƒé™æ­£ç¡®  

ç°åœ¨æ‚¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ `./docker-test.sh` æ¥æµ‹è¯• M2CC è„šæœ¬åœ¨ Ubuntu 22.04 LTS çº¯å‡€ç³»ç»Ÿä¸­çš„æ‰€æœ‰åŠŸèƒ½ï¼